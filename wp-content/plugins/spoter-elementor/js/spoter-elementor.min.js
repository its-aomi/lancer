

const mdpSpoterElementor = {
    spoterElementor: function ( wrapperName ) {
        const hotspots = document.querySelectorAll( `.${wrapperName} .mdp-spoter-elementor-hotspot-wrapper` );
        const hotspotsBox = document.querySelector( `.${wrapperName} .mdp-spoter-elementor-box` );
        const tooltipOpen = hotspotsBox.dataset.tooltipOpen;
        const tooltipClose = hotspotsBox.dataset.tooltipClose;

        // close on click outside
        
        jQuery(document).ready(function(){
           jQuery(".mdp-spoter-elementor-hotspot-icon").click(function(){
              if(jQuery(this).find(".mdp-spoter-elementor-hotspot-tooltip-wrapper").hasClass("mdp-spoter-elementor-hotspot-tooltip-show")){
                  jQuery(this).find(".mdp-spoter-elementor-hotspot-tooltip-wrapper").removeClass("mdp-spoter-elementor-hotspot-tooltip-show");
              }
              
              else{
                  jQuery(this).find(".mdp-spoter-elementor-hotspot-tooltip-wrapper").addClass("mdp-spoter-elementor-hotspot-tooltip-show");
              }
           });
        });
        
    }
}






/**
 * Init for Front-End
 * @param callback
 */
jQuery( window ).on( 'elementor/frontend/init', function () {

    elementorFrontend.hooks.addAction( 'frontend/element_ready/global', function( $scope ) {

        if ( $scope[0].classList.contains( 'elementor-widget-mdp-spoter-elementor' ) ) {
            mdpSpoterElementor.spoterElementor.call( mdpSpoterElementor, `elementor-element-${$scope[0].dataset.id}` );
        }
    } );

} );